<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bibaho Diaries - Wedding Photography</title>
    <link rel="stylesheet" href="header-style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <style>
        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            justify-content: center;
            align-items: center;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        .modal.show {
            display: flex;
            opacity: 1;
        }
        .modal-content {
            background: white;
            padding: 30px;
            border-radius: 12px;
            max-width: 400px;
            width: 90%;
            text-align: center;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
            transform: translateY(-20px);
            transition: transform 0.3s ease;
        }
        .modal.show .modal-content {
            transform: translateY(0);
        }
        .modal-icon {
            font-size: 48px;
            margin-bottom: 20px;
        }
        .success .modal-icon {
            color: #4CAF50;
        }
        .error .modal-icon {
            color: #f44336;
        }
        .modal-message {
            font-size: 18px;
            margin-bottom: 20px;
            color: #333;
            line-height: 1.5;
        }
        .modal-close {
            background: #c9a063;
            color: white;
            border: none;
            padding: 10px 25px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            transition: background-color 0.3s;
        }
        .modal-close:hover {
            background: #b38c4a;
        }
    </style>
</head>
<body>
    <!-- Header Section -->
    <div id="header-placeholder"></div>
    <script>
      fetch("header.html?nocache=" + Date.now())
        .then(response => response.text())
        .then(data => {
          document.getElementById("header-placeholder").innerHTML = data;
        });
    </script>

    <!-- Hero Section -->
    <section class="hero-card">
        <div class="hero-left">
            <h1>
    <span class="hero-text">A <span class="highlight highlight-gold">warm greeting</span></span><br>
    <span class="hero-text">inviting visitors to<br>explore your world of</span><br>
    <span class="highlight highlight-gold">wedding photography</span><br>
    <span class="hero-text">and <span class="highlight highlight-gold">videography</span></span>
</h1>
            <p class="tagline">turning real happiness into pictures with us</p>
            <form id="heroContactForm" class="hero-form">
                <!-- Message modal will be inserted here by JavaScript -->
                <div class="form-row">
                    <input type="text" name="firstName" placeholder="*First Name" required>
                    <input type="text" name="lastName" placeholder="*Last Name" required>
                </div>
                <input type="tel" name="contact" placeholder="*Contact Number" pattern="[0-9]{10,15}" maxlength="15" required>
                <input type="email" name="email" placeholder="*Email Address" required>
                <input type="date" name="date" placeholder="*Event Date" required>
                <select name="service" required>
                    <option value="">*Services</option>
                    <option value="Photography">Photography</option>
                    <option value="Videography">Videography</option>
                    <option value="Both">Both</option>
                </select>
                <input type="hidden" name="_subject" value="New Homepage Inquiry">
                <input type="hidden" name="_template" value="table">
                <input type="hidden" name="_captcha" value="false">
                <input type="hidden" name="_next" value="#">
                <button type="submit" class="cta-btn" id="heroSubmitBtn">
                    <span class="button-text">Book Now</span>
                    <span class="spinner" style="display: none;">Sending...</span>
                </button>
            </form>
        </div>
        <div class="hero-right carousel">
            <img id="carousel-image" src="image/BBD_6284.jpg" alt="Wedding Carousel" />
            <div class="carousel-dots">
                <span class="dot active" onclick="showImage(0)"></span>
                <span class="dot" onclick="showImage(1)"></span>
                <span class="dot" onclick="showImage(2)"></span>
            </div>
        </div>
        <script>
            const images = [
                'image/BBD_6284.jpg',
                'image/BBD_8336.jpg',
                'image/IMG_5825.jpg'
            ];
            let current = 0;
            let carouselInterval = null;
            function showImage(idx) {
                current = idx;
                document.getElementById('carousel-image').src = images[idx];
                const dots = document.querySelectorAll('.carousel-dots .dot');
                dots.forEach((dot, i) => dot.classList.toggle('active', i === idx));
            }
            function nextImage() {
                current = (current + 1) % images.length;
                showImage(current);
            }
            // Start automatic carousel
            function startCarousel() {
                if (carouselInterval) clearInterval(carouselInterval);
                carouselInterval = setInterval(nextImage, 2000);
            }
            // Manual navigation resets timer
            document.addEventListener('DOMContentLoaded', function() {
                showImage(0);
                startCarousel();
                document.querySelectorAll('.carousel-dots .dot').forEach((dot, idx) => {
                    dot.addEventListener('click', function() {
                        showImage(idx);
                        startCarousel();
                    });
                });
                // Pause/resume on hover
                const carouselImg = document.getElementById('carousel-image');
                carouselImg.addEventListener('mouseenter', function() {
                    if (carouselInterval) clearInterval(carouselInterval);
                });
                carouselImg.addEventListener('mouseleave', function() {
                    startCarousel();
                });
            });

            // Create modal element
            const modalHTML = `
                <div id="formModal" class="modal">
                    <div class="modal-content">
                        <div class="modal-icon">
                            <i class="fas fa-check-circle"></i>
                        </div>
                        <div class="modal-message">Thank you for your message! We will get back to you soon.</div>
                        <button class="modal-close" onclick="closeModal()">Close</button>
                    </div>
                </div>`;
            
            // Insert modal at the end of body
            document.body.insertAdjacentHTML('beforeend', modalHTML);
            
            // Modal functions
            function showModal(message, isError = false) {
                const modal = document.getElementById('formModal');
                const modalContent = modal.querySelector('.modal-content');
                const modalIcon = modal.querySelector('.modal-icon i');
                const modalMessage = modal.querySelector('.modal-message');
                
                // Update modal content
                modalMessage.textContent = message;
                
                if (isError) {
                    modalContent.classList.add('error');
                    modalContent.classList.remove('success');
                    modalIcon.className = 'fas fa-exclamation-circle';
                } else {
                    modalContent.classList.add('success');
                    modalContent.classList.remove('error');
                    modalIcon.className = 'fas fa-check-circle';
                }
                
                // Show modal
                modal.classList.add('show');
                
                // Close modal after 5 seconds
                setTimeout(() => {
                    if (modal.classList.contains('show')) {
                        closeModal();
                    }
                }, 5000);
            }
            
            function closeModal() {
                const modal = document.getElementById('formModal');
                modal.classList.remove('show');
            }
            
            // Close modal when clicking outside content
            document.addEventListener('click', function(e) {
                const modal = document.getElementById('formModal');
                if (e.target === modal) {
                    closeModal();
                }
            });
            
            // Close modal with Escape key
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape') {
                    closeModal();
                }
            });

            // Form submission handler for hero form
            document.getElementById('heroContactForm').addEventListener('submit', async function(e) {
                e.preventDefault();
                
                const form = e.target;
                const submitBtn = document.getElementById('heroSubmitBtn');
                
                try {
                    // Show loading state
                    submitBtn.disabled = true;
                    submitBtn.querySelector('.button-text').style.display = 'none';
                    submitBtn.querySelector('.spinner').style.display = 'inline';
                    
                    // Collect form data
                    const formData = new FormData(form);
                    const formDataObj = Object.fromEntries(formData.entries());
                    
                    // Add auto-response message
                    formDataObj._autoresponse = `Thank you for your inquiry, ${formDataObj.firstName || 'there'}! We're excited to help with your ${formDataObj.service || 'event'}. We'll get back to you soon.`;
                    
                    // Send to Formsubmit.co
                    const response = await fetch('https://formsubmit.co/ajax/bibahodiaries.india@gmail.com', {
                        method: 'POST',
                        headers: { 
                            'Content-Type': 'application/json',
                            'Accept': 'application/json'
                        },
                        body: JSON.stringify(formDataObj)
                    });
                    
                    const result = await response.json();
                    
                    if (response.ok) {
                        // Show success modal
                        showModal('Thank you for your message! We will get back to you soon.');
                        // Reset form
                        form.reset();
                    } else {
                        throw new Error(result.message || 'Failed to send message');
                    }
                } catch (error) {
                    console.error('Error:', error);
                    showModal('There was an error sending your message. Please try again later or contact us directly at bibahodiaries.india@gmail.com', true);
                } finally {
                    // Reset button state
                    submitBtn.disabled = false;
                    submitBtn.querySelector('.button-text').style.display = 'inline';
                    submitBtn.querySelector('.spinner').style.display = 'none';
                }
            });
        </script>
    </section>

    <!-- About Love Section -->
    <section class="about-love-card">
        <img src="image/floral-left.png" alt="Floral Left" class="floral floral-left" />
        <div class="about-love-content">
            <h2>How did we fall in <span class="highlight highlight-gold">Love</span> ?</h2>
            <p>It started with a glance, captured in a single frame.
                Moments turned into memories, one photo at a time.
                We saw the beauty in each other’s everyday.
                Smiles became stories, stories became us.
                In between the shutter clicks, love quietly bloomed.
                We didn’t pose for it — it just happened.
                That’s how we fell in love — naturally, like light finding its perfect angle.
                </p>
        </div>
        <img src="image/floral-right.png" alt="Floral Right" class="floral floral-right" />
    </section>


    <!-- Memories Section -->
    <section class="memories-section">
        <div class="memories-title-row">
            <div class="memories-line"></div>
            <div class="memories-title">
                <span class="memories-heart">&#10084;</span>
                Memories
            </div>
            <div class="memories-line"></div>
        </div>
        <div class="memories-cards">
            <div class="memory-card" style="background-image: url('image/memories-prewedding.jpg');">
                <span class="memory-label">PREWEDDING</span>
            </div>
            <div class="memory-card" style="background-image: url('image/memories-traditional.jpg');">
                <span class="memory-label">TRADITIONAL</span>
            </div>
            <div class="memory-card" style="background-image: url('image/memories-modern.jpg');">
                <span class="memory-label">MODERN</span>
            </div>
            <div class="memory-card" style="background-image: url('image/memories-destination.jpg');">
                <span class="memory-label">DESTINATION</span>
            </div>
            <div class="memory-card" style="background-image: url('image/memories-events.jpg');">
                <span class="memory-label">EVENTS</span>
            </div>
        </div>
    </section>


    <!-- Our Team & Office Section -->
    <section class="our-team-wrapper">
        <h2 class="our-team-title">Our team &amp; office</h2>
        <div class="our-team-section">
            <div class="our-team-image">
                <img src="image/our-team.png" alt="Our Team & Office">
            </div>
            <div class="our-team-content">
                <h3>Who are we?</h3>
                <p>
                    At Bibaho Diaries, we are more than just photographers—we are storytellers, capturing the magic and emotions of your special day. Our team is a passionate group of creative minds, dedicated to preserving your wedding moments in the most beautiful and timeless way. From candid laughter to heartfelt vows, we bring artistry and emotion together in every frame.
                </p>
                <a class="our-team-link" href="#">Read More…</a>
            </div>
        </div>
        <div class="our-team-section">
            <div class="our-team-content">
                <p>
                    Based in our cozy yet dynamic office, we collaborate, edit, and curate the perfect wedding stories for you. It's a space where ideas flow, memories are crafted, and dreams are turned into cherished visuals. Let us be a part of your journey and create memories that last a lifetime. Hope this fits your vision! Let me know if you'd like any tweaks.
                </p>
            </div>
            <div class="our-team-image">
                <img src="image/our-equipment.png" alt="Our Team & Office">
            </div>
        </div>
    </section>

    <!-- Counter Section -->
    <section class="counter-section">
        <div class="counter-row">
            <div class="counter-item">
                <div class="counter-number">15+</div>
                <div class="counter-label">Year's of Experience</div>
            </div>
            <div class="counter-item">
                <div class="counter-number">600+</div>
                <div class="counter-label">Events</div>
            </div>
            <div class="counter-item">
                <div class="counter-number">25+</div>
                <div class="counter-label">Cities</div>
            </div>
            <div class="counter-item">
                <div class="counter-number">50+</div>
                <div class="counter-label">Teams</div>
            </div>
        </div>
    </section>
    <script>
        // Animate counters only when .counter-section is in view
        document.addEventListener('DOMContentLoaded', function() {
          let animated = false;
          function animateCounter(el, target, duration = 5000) {
            let start = 0;
            let end = parseInt(target.replace(/\D/g, ''));
            let plus = target.includes('+') ? '+' : '';
            let current = start;
            let increment = Math.ceil(end / (duration / 16));
            function update() {
              current += increment;
              if (current >= end) {
                el.textContent = end + plus;
              } else {
                el.textContent = current + plus;
                requestAnimationFrame(update);
              }
            }
            update();
          }
          function triggerCounters() {
            if (animated) return;
            animated = true;
            document.querySelectorAll('.counter-number').forEach(function(el) {
              animateCounter(el, el.textContent);
            });
          }
          // Intersection Observer for counter-section
          let counterSection = document.querySelector('.counter-section');
          if ('IntersectionObserver' in window && counterSection) {
            let observer = new IntersectionObserver(function(entries) {
              if (entries[0].isIntersecting) {
                triggerCounters();
                observer.disconnect();
              }
            }, { threshold: 0.4 });
            observer.observe(counterSection);
          } else {
            // Fallback: animate on load
            triggerCounters();
          }
        });
    </script>

    <!-- Get a Call Section -->
    <section class="cta-section">
        <h2 class="cta-title">Let us hear your story</h2>
        <p class="cta-desc">
            Capture your special day with our professional wedding photography services. 
            <br>Book an appointment now and let us create timeless memories for you to cherish. 
            <br>Contact us to discuss your vision and receive a personalized quote today.
        </p>
        <form id="phoneForm" class="cta-form">
            <input type="tel" name="phone" class="cta-input" placeholder="Enter your phone number" pattern="[0-9]{10,15}" maxlength="15" required />
            <button type="submit" class="cta-button" id="phoneSubmitBtn">
                <span class="button-text">Get a call</span>
                <span class="spinner" style="display: none;">Sending...</span>
            </button>
        </form>
        
        <script>
            // Form submission handler for phone form
            document.getElementById('phoneForm').addEventListener('submit', async function(e) {
                e.preventDefault();
                
                const form = e.target;
                const submitBtn = document.getElementById('phoneSubmitBtn');
                const phoneNumber = form.phone.value;
                
                try {
                    // Show loading state
                    submitBtn.disabled = true;
                    submitBtn.querySelector('.button-text').style.display = 'none';
                    submitBtn.querySelector('.spinner').style.display = 'inline';
                    
                    // Prepare form data
                    const formData = {
                        phone: phoneNumber,
                        _subject: 'New Callback Request',
                        _template: 'table',
                        _captcha: 'false',
                        _autoresponse: `Thank you for requesting a callback! We'll call you shortly at ${phoneNumber}.`
                    };
                    
                    // Send to Formsubmit.co
                    const response = await fetch('https://formsubmit.co/ajax/bibahodiaries.india@gmail.com', {
                        method: 'POST',
                        headers: { 
                            'Content-Type': 'application/json',
                            'Accept': 'application/json'
                        },
                        body: JSON.stringify(formData)
                    });
                    
                    const result = await response.json();
                    
                    if (response.ok) {
                        // Show success modal
                        showModal('Thank you! We will call you shortly.');
                        // Reset form
                        form.reset();
                    } else {
                        throw new Error(result.message || 'Failed to send request');
                    }
                } catch (error) {
                    console.error('Error:', error);
                    showModal('There was an error processing your request. Please try again later or call us directly at +91 79806 03504', true);
                } finally {
                    // Reset button state
                    submitBtn.disabled = false;
                    submitBtn.querySelector('.button-text').style.display = 'inline';
                    submitBtn.querySelector('.spinner').style.display = 'none';
                }
            });
        </script>
    </section>

    <!-- Footer Section -->
    <div id="footer-placeholder"></div>
    <script>
      fetch("footer.html?nocache=" + Date.now())
        .then(response => response.text())
        .then(data => {
          document.getElementById("footer-placeholder").innerHTML = data;
        });
    </script>
    <script src="js/script.js"></script>
    <script src="js/header.js"></script>
</body>
</html>
